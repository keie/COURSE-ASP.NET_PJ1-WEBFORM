/****** Object:  StoredProcedure [dbo].[usp.EMPLOYEE.Update]    Script Date: 9/10/2018 10:05:49 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
ALTER PROC [dbo].[usp.EMPLOYEE.Update]
@data varchar(max) AS BEGIN
declare @code_employee varchar(max)
declare @lastname varchar(max)
declare @name varchar(max)
declare @occupation varchar(max)
declare @account varchar(max)
declare @password varchar (max)
declare @turn varchar(max)
set @code_employee=(select  top 1  splitdata from split(@data,'|') where id=1 order by splitdata asc)
set @lastname=(select  top 1  splitdata from split(@data,'|') where id=2 order by splitdata asc)
set @name=(select  top 1  splitdata from split(@data,'|') where id=3 order by splitdata asc)
set @occupation=(select  top 1  splitdata from split(@data,'|') where id=4 order by splitdata asc)
set @account=(select  top 1  splitdata from split(@data,'|') where id=5 order by splitdata asc)
set @password=(select  top 1  splitdata from split(@data,'|') where id=6 order by splitdata asc)
set @turn=(select  top 1  splitdata from split(@data,'|') where id=7 order by splitdata asc)
UPDATE EMPLEADO SET EMPLEADO.apellido=@lastname,
EMPLEADO.nombre=@name,
EMPLEADO.tipo_empleado=@occupation,
EMPLEADO.cuenta=@account,
EMPLEADO.password=@password,
EMPLEADO.turno=@turn  WHERE codigo_empleado=@code_employee
END
